{"version":3,"sources":["webpack:///webpack/bootstrap 504393b6a1251cd4c162","webpack:///./example/app/index.jsx","webpack:///./example/app/components/CommentBox.jsx","webpack:///./example/app/components/CommentForm.jsx","webpack:///./example/app/components/CommentList.jsx","webpack:///./example/app/components/Comment.jsx"],"names":["pollInterval","ReactDOM","render","document","getElementById","CommentBox","React","createClass","propTypes","url","PropTypes","string","isRequired","number","getDefaultProps","getInitialState","data","console","log","state","handleCommentSubmit","componentDidMount","loadCommentsFromServer","setInterval","props","superagent","get","set","end","err","res","ok","error","statusCode","toString","setState","body","comment","comments","id","Date","now","newComments","concat","post","send","CommentForm","onCommentSubmit","func","info","author","text","handleSubmit","handleAuthorChange","handleTextChange","event","target","value","preventDefault","trim","CommentList","array","commentNodes","map","Comment","children","getRawMarkup","md","Remarkable"],"mappings":"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","file":"./example/server/public/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 504393b6a1251cd4c162\n **/","import CommentBox from './components/CommentBox';\n\nconst pollInterval = 2000;\n\nReactDOM.render(\n  <CommentBox url=\"/api/comments\" pollInterval={pollInterval} />,\n  document.getElementById('container')\n);\n\n\n\n/** WEBPACK FOOTER **\n ** ./example/app/index.jsx\n **/","import CommentForm from './CommentForm';\nimport CommentList from './CommentList';\n\nconst CommentBox = React.createClass({\n  propTypes: {\n    url: React.PropTypes.string.isRequired,\n    pollInterval: React.PropTypes.number.isRequired\n  },\n\n  getDefaultProps() {\n    return {\n      pollInterval: 5000\n    };\n  },\n\n  getInitialState() {\n    return {\n      data: []\n    };\n  },\n\n  render() {\n    console.log('render()');\n\n    return (\n      <div className=\"commentBox\">\n        <h1>Comments</h1>\n        <CommentList data={this.state.data}/>\n        <CommentForm onCommentSubmit={this.handleCommentSubmit}/>\n      </div>\n    );\n\n  },\n\n  componentDidMount() {\n\n    console.log('componentDidMount');\n    this.loadCommentsFromServer();\n    setInterval(this.loadCommentsFromServer, this.props.pollInterval);\n\n  },\n\n  loadCommentsFromServer() {\n\n    console.log('pooling from', this.props.url);\n\n    superagent.get(this.props.url).\n      set('X-Requested-With', 'XMLHttpRequest').\n      set('Expires', '-1').\n      set('Cache-Control',\n      'no-cache,no-store,must-revalidate,max-age=-1,private').\n      end((err, res) => {\n\n        if (err || !res.ok) {\n\n          console.error(this.props.url, res.statusCode, err.toString());\n\n        } else {\n\n          this.setState({ data: res.body });\n\n        }\n\n      });\n\n  },\n\n  handleCommentSubmit(comment) {\n\n    const comments = this.state.data;\n\n    // Optimistically set an id on the new comment.\n    comment.id = Date.now();\n\n    const newComments = comments.concat([comment]);\n\n    this.setState({ data: newComments });\n\n    superagent.post(this.props.url).\n      set('X-Requested-With', 'XMLHttpRequest').\n      send(comment).\n      end((err, res) => {\n\n        if (err || !res.ok) {\n\n          this.setState({ data: comments });\n          console.error(this.props.url, res.statusCode, err.toString());\n\n        } else {\n\n          this.setState({ data: res.body });\n\n        }\n\n      });\n\n  }\n\n});\n\nexport default CommentBox;\n\n\n\n/** WEBPACK FOOTER **\n ** ./example/app/components/CommentBox.jsx\n **/","const CommentForm = React.createClass({\n\n  propTypes: {\n    onCommentSubmit: React.PropTypes.func.isRequired\n  },\n\n  getDefaultProps() {\n\n    return {\n      onCommentSubmit: (comment) => {\n\n        console.info('submit fired', comment);\n\n      }\n    };\n\n  },\n\n  getInitialState() {\n\n    return {\n      author: '',\n      text: ''\n    };\n\n  },\n  render() {\n\n    return (\n      <form className=\"commentForm\" onSubmit={this.handleSubmit} >\n        <input type=\"text\" placeholder=\"Your name\" value={this.state.author}\n          onChange={this.handleAuthorChange} />\n        <input type=\"text\" placeholder=\"Say something..\" value={this.state.text}\n          onChange={this.handleTextChange} />\n        <input type=\"submit\" value=\"Post\"/>\n      </form>\n    );\n\n  },\n  handleAuthorChange(event) {\n\n    this.setState({ author: event.target.value });\n\n  },\n\n  handleTextChange(event) {\n\n    const text = event.target.value;\n\n    this.setState({ text });\n\n  },\n\n  handleSubmit(event) {\n\n    event.preventDefault();\n\n    const author = this.state.author.trim(),\n      text = this.state.text.trim();\n\n    if (!text || !author) {\n\n      return;\n\n    }\n\n    this.props.onCommentSubmit({\n      author,\n      text\n    });\n\n    this.setState({\n      author: '',\n      text: ''\n    });\n\n  }\n\n});\n\nexport default CommentForm;\n\n\n\n/** WEBPACK FOOTER **\n ** ./example/app/components/CommentForm.jsx\n **/","import Comment from './Comment';\n\nconst CommentList = React.createClass({\n\n  propTypes: {\n    data: React.PropTypes.array.isRequired\n  },\n\n  render() {\n\n    const commentNodes = this.props.data.map((comment) =>\n      <Comment author={comment.author} key={comment.id}>\n        {comment.text}\n      </Comment>\n    );\n\n    return (\n      <div className=\"commentList\">\n        { commentNodes }\n      </div>\n    );\n\n  }\n});\n\nexport default CommentList;\n\n\n\n/** WEBPACK FOOTER **\n ** ./example/app/components/CommentList.jsx\n **/","const Comment = React.createClass({\n\n  propTypes: {\n    author: React.PropTypes.string,\n    children: React.PropTypes.string\n  },\n\n  render() {\n\n    return (\n      <div className=\"comment\">\n        <h2 className=\"commentAuthor\">{ this.props.author }</h2>\n        <span dangerouslySetInnerHTML={ this.getRawMarkup() }/>\n      </div>\n    );\n\n  },\n\n  getRawMarkup() {\n\n    const md = new Remarkable();\n\n    return {\n      '__html': md.render(this.props.children.toString())\n    };\n\n  }\n});\n\nexport default Comment;\n\n\n\n/** WEBPACK FOOTER **\n ** ./example/app/components/Comment.jsx\n **/"],"sourceRoot":""}